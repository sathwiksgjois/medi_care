{% extends 'base.html' %}
{% load static %}
{% block extra_content %}

<!-- Hero Section -->
<section class="relative bg-gradient-to-br from-purple-600 via-pink-600 to-orange-500 text-white py-20 md:py-28 overflow-hidden">
  <!-- Animated Background -->
  <div class="absolute inset-0">
    <div class="absolute inset-0 bg-[radial-gradient(ellipse_at_center,_var(--tw-gradient-stops))] from-purple-900/20 via-transparent to-transparent"></div>
    <div class="absolute top-10 left-10 w-20 h-20 bg-white/10 rounded-full blur-xl"></div>
    <div class="absolute bottom-10 right-10 w-32 h-32 bg-pink-500/20 rounded-full blur-2xl"></div>
    <div class="absolute top-1/2 left-1/4 w-16 h-16 bg-orange-400/30 rounded-full blur-lg"></div>
  </div>
  
  <div class="relative max-w-7xl mx-auto px-4 sm:px-6 text-center">
    <div class="floating">
      <h1 class="text-4xl md:text-6xl font-black mb-6 leading-tight">
        Your Health,
        <span class="bg-gradient-to-r from-yellow-300 to-orange-300 bg-clip-text text-transparent">Our Priority</span>
      </h1>
    </div>
    <p class="text-xl md:text-2xl mb-8 text-purple-100 max-w-3xl mx-auto leading-relaxed">
      Experience premium healthcare with trusted specialists. Book appointments instantly and take control of your wellness journey.
    </p>
    <div class="flex flex-col sm:flex-row gap-4 justify-center items-center">
      <a href="{% url 'doctors' %}" class="group bg-white text-purple-600 px-8 py-4 rounded-2xl font-bold text-lg shadow-2xl hover:shadow-purple-500/25 transition-all duration-300 hover:scale-105 hover:-translate-y-1">
        <span class="flex items-center gap-3">
          <i class="fas fa-search-medical group-hover:scale-110 transition-transform duration-300"></i>
          Find Your Doctor
        </span>
      </a>
      {% if user.is_authenticated %}
      <a href="{% url 'all_reviews' %}" class="group border-2 border-white/50 text-white px-8 py-4 rounded-2xl font-bold text-lg backdrop-blur-sm hover:bg-white/10 transition-all duration-300 hover:scale-105 hover:-translate-y-1">
        <span class="flex items-center gap-3">
          <i class="fas fa-star group-hover:scale-110 transition-transform duration-300"></i>
          My Reviews
        </span>
      </a>
      {% else %}
      <a href="{% url 'all_reviews' %}" class="group border-2 border-white/50 text-white px-8 py-4 rounded-2xl font-bold text-lg backdrop-blur-sm hover:bg-white/10 transition-all duration-300 hover:scale-105 hover:-translate-y-1">
        <span class="flex items-center gap-3">
          <i class="fas fa-star group-hover:scale-110 transition-transform duration-300"></i>
          Read Reviews
        </span>
      </a>
      {% endif %}
    </div>
  </div>
</section>

<!-- Features Grid -->
<section class="py-20 bg-white">
  <div class="max-w-7xl mx-auto px-4 sm:px-6">
    <div class="text-center mb-16">
      <h2 class="text-4xl md:text-5xl font-black text-gray-900 mb-4">
        Why Choose <span class="text-transparent bg-clip-text bg-gradient-to-r from-purple-600 to-pink-600">MediCare+</span>?
      </h2>
      <p class="text-xl text-gray-600 max-w-2xl mx-auto">
        We're revolutionizing healthcare with cutting-edge technology and compassionate care
      </p>
    </div>
    
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8">
      <!-- Instant Booking Card -->
      <div class="bg-gradient-to-br from-blue-500 to-purple-600 rounded-3xl p-8 text-white transition-all duration-500 hover:scale-105 hover:shadow-2xl group cursor-pointer border-2 border-blue-400">
        <div class="text-center">
          <div class="w-16 h-16 bg-white/20 rounded-2xl flex items-center justify-center mx-auto mb-6 transition-all duration-500 group-hover:scale-110 group-hover:bg-white/30">
            <i class="fas fa-bolt text-2xl"></i>
          </div>
          <h3 class="text-2xl font-bold mb-4">Instant Booking</h3>
          <p class="text-blue-100 leading-relaxed">Book appointments in seconds with our streamlined platform</p>
        </div>
      </div>
      
      <!-- Verified Doctors Card -->
      <div class="bg-gradient-to-br from-green-500 to-emerald-600 rounded-3xl p-8 text-white transition-all duration-500 hover:scale-105 hover:shadow-2xl group cursor-pointer border-2 border-green-400">
        <div class="text-center">
          <div class="w-16 h-16 bg-white/20 rounded-2xl flex items-center justify-center mx-auto mb-6 transition-all duration-500 group-hover:scale-110 group-hover:bg-white/30">
            <i class="fas fa-shield-alt text-2xl"></i>
          </div>
          <h3 class="text-2xl font-bold mb-4">Verified Doctors</h3>
          <p class="text-green-100 leading-relaxed">All specialists are thoroughly vetted and certified</p>
        </div>
      </div>
      
      <!-- 24/7 Support Card -->
      <div class="bg-gradient-to-br from-purple-500 to-pink-600 rounded-3xl p-8 text-white transition-all duration-500 hover:scale-105 hover:shadow-2xl group cursor-pointer border-2 border-purple-400">
        <div class="text-center">
          <div class="w-16 h-16 bg-white/20 rounded-2xl flex items-center justify-center mx-auto mb-6 transition-all duration-500 group-hover:scale-110 group-hover:bg-white/30">
            <i class="fas fa-clock text-2xl"></i>
          </div>
          <h3 class="text-2xl font-bold mb-4">24/7 Support</h3>
          <p class="text-purple-100 leading-relaxed">Round-the-clock customer support for all your needs</p>
        </div>
      </div>
      
      <!-- Digital Records Card -->
      <div class="bg-gradient-to-br from-orange-500 to-red-600 rounded-3xl p-8 text-white transition-all duration-500 hover:scale-105 hover:shadow-2xl group cursor-pointer border-2 border-orange-400">
        <div class="text-center">
          <div class="w-16 h-16 bg-white/20 rounded-2xl flex items-center justify-center mx-auto mb-6 transition-all duration-500 group-hover:scale-110 group-hover:bg-white/30">
            <i class="fas fa-chart-line text-2xl"></i>
          </div>
          <h3 class="text-2xl font-bold mb-4">Digital Records</h3>
          <p class="text-orange-100 leading-relaxed">Secure digital health records accessible anytime</p>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- Doctors Preview - SHOWING ONLY 4 DOCTORS -->
<section class="py-20 bg-gradient-to-br from-gray-50 to-purple-50">
  <div class="max-w-7xl mx-auto px-4 sm:px-6">
    <div class="text-center mb-16">
      <h2 class="text-4xl md:text-5xl font-black text-gray-900 mb-4">
        Meet Our <span class="text-transparent bg-clip-text bg-gradient-to-r from-purple-600 to-pink-600">Top Specialists</span>
      </h2>
      <p class="text-xl text-gray-600">Experienced doctors dedicated to your well-being</p>
    </div>
    
    {% if doctors %}
    <!-- CHANGED: Single grid with 4 doctors -->
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8">
      {% for doctor in doctors|slice:":4" %}
      <div class="bg-white rounded-3xl border-2 border-gray-300 shadow-2xl hover:shadow-3xl hover:border-purple-300 transition-all duration-500 overflow-hidden group">
        <div class="p-6 text-center border-b-2 border-gray-300">
          <div class="flex justify-center mb-4">
            {% if doctor.image %}
              <img src="{{ doctor.image.url }}" 
                   alt="Dr. {{ doctor.name }}" 
                   class="w-20 h-20 rounded-2xl object-cover border-4 border-purple-200 shadow-lg group-hover:scale-110 transition-transform duration-500">
            {% else %}
              <div class="w-20 h-20 rounded-2xl bg-gradient-to-br from-purple-100 to-pink-100 flex items-center justify-center border-4 border-purple-200 shadow-lg group-hover:scale-110 transition-transform duration-500">
                <i class="fas fa-user-md text-purple-400 text-2xl"></i>
              </div>
            {% endif %}
          </div>
          
          <h3 class="text-xl font-black text-gray-900 mb-2">Dr. {{ doctor.name }}</h3>
          <p class="text-purple-600 font-bold mb-3">{{ doctor.get_specialization_display }}</p>
          
          <div class="flex justify-center gap-4 text-sm text-gray-600 mb-3">
            <span class="flex items-center gap-1 bg-blue-50 px-3 py-1 rounded-2xl border-2 border-blue-200">
              <i class="fas fa-briefcase-medical text-blue-500 text-xs"></i>
              <span class="font-bold">{{ doctor.experience }}+ yrs</span>
            </span>
            <span class="flex items-center gap-1 bg-green-50 px-3 py-1 rounded-2xl border-2 border-green-200">
              <i class="fas fa-rupee-sign text-green-500 text-xs"></i>
              <span class="font-bold">{{ doctor.display_fee }}</span>
            </span>
          </div>
        </div>

        <div class="p-6">
          <div class="space-y-3 mb-4">
            <div class="flex items-center gap-2 text-sm text-gray-600">
              <i class="fas fa-hospital text-purple-500 w-4"></i>
              <span class="font-medium truncate">{{ doctor.hospital }}</span>
            </div>
            <div class="flex items-center gap-2 text-sm text-gray-600">
              <i class="fas fa-map-marker-alt text-orange-500 w-4"></i>
              <span class="font-medium truncate">{{ doctor.address|truncatewords:3 }}</span>
            </div>
          </div>

          <div class="space-y-3">
            {% if user.is_authenticated %}
              <a href="{% url 'book_appointment' doctor.id %}" 
                 class="block w-full bg-gradient-to-r from-purple-600 to-pink-600 text-white text-center font-bold py-3 px-4 rounded-2xl hover:shadow-lg hover:scale-105 transition-all duration-300 text-sm">
                <i class="fas fa-calendar-plus mr-2"></i>Book Appointment
              </a>
            {% else %}
              <a href="{% url 'login' %}?next={% url 'doctors' %}" 
                 class="block w-full bg-gradient-to-r from-blue-600 to-indigo-600 text-white text-center font-bold py-3 px-4 rounded-2xl hover:shadow-lg hover:scale-105 transition-all duration-300 text-sm">
                <i class="fas fa-sign-in-alt mr-2"></i>Login to Book
              </a>
            {% endif %}
            
            <a href="{% url 'doctor_detail' doctor.id %}" 
               class="block w-full bg-gradient-to-r from-gray-200 to-gray-300 text-gray-800 text-center font-bold py-3 px-4 rounded-2xl border-2 border-gray-400 hover:shadow-lg hover:scale-105 transition-all duration-300 text-sm">
              <i class="fas fa-eye mr-2"></i>View Profile
            </a>
          </div>
        </div>
      </div>
      {% endfor %}
    </div>
    
    <!-- View All Button -->
    <div class="text-center mt-12">
      <a href="{% url 'doctors' %}" class="bg-gradient-to-r from-purple-600 to-pink-600 text-white px-8 py-4 rounded-2xl font-bold hover:shadow-2xl hover:scale-105 transition-all duration-300 inline-flex items-center gap-3 shadow-2xl text-lg">
        <i class="fas fa-arrow-right"></i>
        View All Doctors
      </a>
    </div>
    
    {% else %}
    <div class="text-center py-12">
      <div class="w-24 h-24 mx-auto bg-gradient-to-br from-purple-100 to-pink-100 rounded-2xl flex items-center justify-center mb-6">
        <i class="fas fa-user-md text-purple-400 text-3xl"></i>
      </div>
      <h3 class="text-2xl font-bold text-gray-900 mb-4">No Doctors Available</h3>
      <p class="text-gray-600 max-w-md mx-auto">We're currently updating our specialist network. Please check back soon for available doctors.</p>
    </div>
    {% endif %}
  </div>
</section>

<!-- Featured Doctors Section -->
<section class="py-20 bg-gradient-to-br from-gray-50 to-purple-50">
  <div class="max-w-7xl mx-auto px-4 sm:px-6">
    <div class="text-center mb-16">
      <h2 class="text-4xl md:text-5xl font-black text-gray-900 mb-4">
        {% if user.is_authenticated %}
        Recommended <span class="text-transparent bg-clip-text bg-gradient-to-r from-purple-600 to-pink-600">Just For You</span>
        {% else %}
        Our <span class="text-transparent bg-clip-text bg-gradient-to-r from-purple-600 to-pink-600">Featured Specialists</span>
        {% endif %}
      </h2>
      <p class="text-xl text-gray-600">
        {% if user.is_authenticated %}
        Doctors matching your interests and preferences
        {% else %}
        Top-rated doctors with excellent patient satisfaction
        {% endif %}
      </p>
    </div>
    
    {% if featured_doctors %}
    <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
      {% for doctor in featured_doctors %}
      <div class="bg-white rounded-3xl border-2 border-gray-300 shadow-2xl hover:shadow-3xl hover:border-purple-300 transition-all duration-500 overflow-hidden group">
        
        <!-- Personalized Badge for logged-in users -->
        {% if user.is_authenticated %}
        <div class="absolute top-4 right-4">
          <span class="bg-gradient-to-r from-purple-600 to-pink-600 text-white text-xs font-bold px-3 py-1 rounded-full shadow-lg">
            <i class="fas fa-heart mr-1"></i>For You
          </span>
        </div>
        {% endif %}
        
        <div class="p-6 text-center border-b-2 border-gray-300">
          <div class="flex justify-center mb-4">
            {% if doctor.image %}
              <img src="{{ doctor.image.url }}" 
                   alt="Dr. {{ doctor.name }}" 
                   class="w-20 h-20 rounded-2xl object-cover border-4 border-purple-200 shadow-lg group-hover:scale-110 transition-transform duration-500">
            {% else %}
              <div class="w-20 h-20 rounded-2xl bg-gradient-to-br from-purple-100 to-pink-100 flex items-center justify-center border-4 border-purple-200 shadow-lg group-hover:scale-110 transition-transform duration-500">
                <i class="fas fa-user-md text-purple-400 text-2xl"></i>
              </div>
            {% endif %}
          </div>
          
          <h3 class="text-xl font-black text-gray-900 mb-2">Dr. {{ doctor.name }}</h3>
          <p class="text-purple-600 font-bold mb-3">{{ doctor.get_specialization_display }}</p>
          
          <div class="flex justify-center gap-4 text-sm text-gray-600 mb-3">
            <span class="flex items-center gap-1 bg-blue-50 px-3 py-1 rounded-2xl border-2 border-blue-200">
              <i class="fas fa-briefcase-medical text-blue-500 text-xs"></i>
              <span class="font-bold">{{ doctor.experience }}+ yrs</span>
            </span>
            <span class="flex items-center gap-1 bg-green-50 px-3 py-1 rounded-2xl border-2 border-green-200">
              <i class="fas fa-rupee-sign text-green-500 text-xs"></i>
              <span class="font-bold">{{ doctor.display_fee }}</span>
            </span>
          </div>

          <!-- Rating Stars -->
          <div class="flex justify-center items-center gap-2 mb-2">
            <div class="flex items-center gap-1">
              {% for i in "12345" %}
                {% if forloop.counter <= doctor.avg_rating|floatformat:0 %}
                  <i class="fas fa-star text-yellow-400 text-sm"></i>
                {% else %}
                  <i class="far fa-star text-yellow-400 text-sm"></i>
                {% endif %}
              {% endfor %}
              <span class="text-sm text-gray-600 ml-1">({{ doctor.avg_rating|floatformat:1 }})</span>
            </div>
          </div>
        </div>

        <div class="p-6">
          <div class="space-y-3 mb-4">
            <div class="flex items-center gap-2 text-sm text-gray-600">
              <i class="fas fa-hospital text-purple-500 w-4"></i>
              <span class="font-medium truncate">{{ doctor.hospital }}</span>
            </div>
            <div class="flex items-center gap-2 text-sm text-gray-600">
              <i class="fas fa-map-marker-alt text-orange-500 w-4"></i>
              <span class="font-medium truncate">{{ doctor.address|truncatewords:3 }}</span>
            </div>
            {% if doctor.review_count > 0 %}
            <div class="flex items-center gap-2 text-sm text-gray-600">
              <i class="fas fa-comment text-blue-500 w-4"></i>
              <span class="font-medium">{{ doctor.review_count }} reviews</span>
            </div>
            {% endif %}
          </div>

          <div class="space-y-3">
            {% if user.is_authenticated %}
              <a href="{% url 'book_appointment' doctor.id %}" 
                 class="block w-full bg-gradient-to-r from-purple-600 to-pink-600 text-white text-center font-bold py-3 px-4 rounded-2xl hover:shadow-lg hover:scale-105 transition-all duration-300 text-sm">
                <i class="fas fa-calendar-plus mr-2"></i>Book Appointment
              </a>
            {% else %}
              <a href="{% url 'login' %}?next={% url 'doctors' %}" 
                 class="block w-full bg-gradient-to-r from-blue-600 to-indigo-600 text-white text-center font-bold py-3 px-4 rounded-2xl hover:shadow-lg hover:scale-105 transition-all duration-300 text-sm">
                <i class="fas fa-sign-in-alt mr-2"></i>Login to Book
              </a>
            {% endif %}
            
            <a href="{% url 'doctor_detail' doctor.id %}" 
               class="block w-full bg-gradient-to-r from-gray-200 to-gray-300 text-gray-800 text-center font-bold py-3 px-4 rounded-2xl border-2 border-gray-400 hover:shadow-lg hover:scale-105 transition-all duration-300 text-sm">
              <i class="fas fa-eye mr-2"></i>View Profile
            </a>
          </div>
        </div>
      </div>
      {% endfor %}
    </div>
    
    <!-- View All Doctors Button -->
    <div class="text-center mt-12">
      <a href="{% url 'doctors' %}" class="bg-gradient-to-r from-purple-600 to-pink-600 text-white px-8 py-4 rounded-2xl font-bold hover:shadow-2xl hover:scale-105 transition-all duration-300 inline-flex items-center gap-3 shadow-2xl text-lg">
        <i class="fas fa-arrow-right"></i>
        {% if user.is_authenticated %}
        Explore More Doctors
        {% else %}
        View All Doctors
        {% endif %}
      </a>
    </div>
    
    {% else %}
    <div class="text-center py-12">
      <div class="w-24 h-24 mx-auto bg-gradient-to-br from-purple-100 to-pink-100 rounded-2xl flex items-center justify-center mb-6">
        <i class="fas fa-user-md text-purple-400 text-3xl"></i>
      </div>
      <h3 class="text-2xl font-bold text-gray-900 mb-4">
        {% if user.is_authenticated %}
        No Personalized Recommendations Yet
        {% else %}
        No Featured Doctors Available
        {% endif %}
      </h3>
      <p class="text-gray-600 max-w-md mx-auto mb-8">
        {% if user.is_authenticated %}
        Book your first appointment to get personalized doctor recommendations!
        {% else %}
        We're currently updating our featured specialists. Please check back soon.
        {% endif %}
      </p>
      {% if user.is_authenticated %}
      <a href="{% url 'doctors' %}" 
         class="bg-gradient-to-r from-purple-600 to-pink-600 text-white px-8 py-4 rounded-2xl font-bold hover:shadow-2xl hover:scale-105 transition-all duration-300 inline-flex items-center gap-3">
        <i class="fas fa-search mr-2"></i>
        Browse All Doctors
      </a>
      {% endif %}
    </div>
    {% endif %}
  </div>
</section>


<!-- Stats Section -->
<section class="py-20 bg-white">
  <div class="max-w-7xl mx-auto px-4 sm:px-6">
    <div class="grid grid-cols-2 lg:grid-cols-4 gap-8 text-center">
      <div class="p-6">
        <div class="text-4xl md:text-5xl font-black bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent mb-2">500+</div>
        <div class="text-gray-600 font-semibold text-lg">Verified Doctors</div>
      </div>
      <div class="p-6">
        <div class="text-4xl md:text-5xl font-black bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent mb-2">10K+</div>
        <div class="text-gray-600 font-semibold text-lg">Happy Patients</div>
      </div>
      <div class="p-6">
        <div class="text-4xl md:text-5xl font-black bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent mb-2">24/7</div>
        <div class="text-gray-600 font-semibold text-lg">Support Available</div>
      </div>
      <div class="p-6">
        <div class="text-4xl md:text-5xl font-black bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent mb-2">98%</div>
        <div class="text-gray-600 font-semibold text-lg">Success Rate</div>
      </div>
    </div>
  </div>
</section>

<!-- CTA Section -->
<section class="py-20 bg-gradient-to-br from-purple-600 to-pink-600 text-white">
  <div class="max-w-4xl mx-auto px-4 sm:px-6 text-center">
    <h2 class="text-4xl md:text-5xl font-black mb-6">Ready to Transform Your Healthcare Experience?</h2>
    <p class="text-xl text-purple-100 mb-8">Join thousands of satisfied patients who trust MediCare+ for their medical needs.</p>
    <div class="flex flex-col sm:flex-row gap-4 justify-center">
      {% if not user.is_authenticated %}
      <a href="{% url 'register' %}" class="bg-white text-purple-600 px-8 py-4 rounded-2xl font-bold text-lg hover:scale-105 transition-transform duration-300">
        Get Started Free
      </a>
      {% endif %}
      <a href="{% url 'doctors' %}" class="border-2 border-white text-white px-8 py-4 rounded-2xl font-bold text-lg hover:bg-white hover:text-purple-600 transition-all duration-300">
        Browse Doctors
      </a>
    </div>
  </div>
</section>

<style>
  .floating {
    animation: float 6s ease-in-out infinite;
  }

  @keyframes float {
    0%, 100% { transform: translateY(0); }
    50% { transform: translateY(-10px); }
  }
</style>
{% endblock extra_content %}